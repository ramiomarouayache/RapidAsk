"use strict";(self.webpackChunkai_assistant=self.webpackChunkai_assistant||[]).push([[352],{1614:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"Tutorials/API calls","title":"\ud83c\udf10 API calls","description":"1. OpenAI API - Generating Reply from User\'s Speech","source":"@site/docs/1.Tutorials/API calls.md","sourceDirName":"1.Tutorials","slug":"/tutorials/api-calls","permalink":"/RapidAsk/docs/tutorials/api-calls","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/1.Tutorials/API calls.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"slug":"/tutorials/api-calls","title":"\ud83c\udf10 API calls","sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"\ud83d\udca1 App structure","permalink":"/RapidAsk/docs/app-structure"},"next":{"title":"\ud83d\udd12 Auth/ trial counter","permalink":"/RapidAsk/docs/tutorials/auth"}}');var r=n(4848),i=n(8453);const o={slug:"/tutorials/api-calls",title:"\ud83c\udf10 API calls",sidebar_position:4},c="API calls",a={},l=[{value:"1. <strong>OpenAI API - Generating Reply from User&#39;s Speech</strong>",id:"1-openai-api---generating-reply-from-users-speech",level:2},{value:"3. <strong>Stripe API - Checkout Session</strong>",id:"3-stripe-api---checkout-session",level:2}];function d(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components},{Details:t}=s;return t||function(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"api-calls",children:"API calls"})}),"\n",(0,r.jsxs)(s.h2,{id:"1-openai-api---generating-reply-from-users-speech",children:["1. ",(0,r.jsx)(s.strong,{children:"OpenAI API - Generating Reply from User's Speech"})]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Action Trigger"}),": When the user presses the ",(0,r.jsx)(s.strong,{children:"Start Record"})," button, the app records their speech and converts it into text."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"API Call"}),": Once the text is generated, the app sends the speech text to OpenAI's endpoint for a reply."]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"prompt",src:n(8559).A+"",width:"1401",height:"833"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.h2,{id:"3-stripe-api---checkout-session",children:["3. ",(0,r.jsx)(s.strong,{children:"Stripe API - Checkout Session"})]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Action Trigger"}),': When the user clicks the "Subscribe" button, two actions occur:']}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"1.A Stripe customer is created using the logged-in user\u2019s email.(custom action)"}),"\n",(0,r.jsx)(s.li,{children:"2.A Stripe Checkout session is generated using the created customer ID."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"API Call"}),": The app sends the text from the previous response to OpenAI's TTS API."]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Endpoint"}),": ",(0,r.jsx)(s.code,{children:"https://api.stripe.com/v1/checkout/sessions"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Method"}),": POST"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Body"}),":"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:' {\r\n   "customer": "<CUSTOMER_ID>",\r\n   "payment_method_types": ["card"],\r\n   "line_items": [\r\n     {\r\n       "price_data": {\r\n         "currency": "usd",\r\n         "product_data": {\r\n           "name": "Subscription Plan"\r\n         },\r\n         "unit_amount": 1000\r\n       },\r\n       "quantity": 1\r\n     }\r\n   ],\r\n   "mode": "subscription",\r\n   "success_url": "<YOUR_SUCCESS_URL>",\r\n   "cancel_url": "<YOUR_CANCEL_URL>"\r\n }\n'})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Response"}),":  The API returns a session informations, which is used to redirect the user to the Stripe-hosted checkout page."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:"Response customization..."}),(0,r.jsx)(s.p,{children:"You can customize bot responses in two different ways, depending on your needs:"}),(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Basic Customization"}),": you can customize the entry prompt by adding any additional information you need, like in the example below:\r\n",(0,r.jsx)(s.img,{alt:"prompt",src:n(3702).A+"",width:"1342",height:"914"})]}),"\n"]}),(0,r.jsx)(s.p,{children:"This way, your bot will always:"}),(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"generate a response that could be read in about 13 seconds."}),"\n",(0,r.jsx)(s.li,{children:"end its response with a small question to keep the conversation going."}),"\n",(0,r.jsx)(s.li,{children:'introduce himself as "RapidAsk bot".'}),"\n"]}),(0,r.jsx)(s.hr,{}),(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Advanced Customization"}),": OpenAI lets you fine-tune models with your own data to tailor responses to your specific needs. For example, if you\u2019re building a medical bot, you can train the model using your medical FAQs or answers to improve its accuracy. After uploading your dataset (ex: text, pdf, media, links...) and training the model, you can access it via an API endpoint."]}),"\n"]}),(0,r.jsxs)(s.p,{children:["more about fine-tuning ",(0,r.jsx)(s.a,{href:"https://platform.openai.com/docs/guides/fine-tuning",children:"docs"}),"."]})]})]})}function p(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8559:(e,s,n)=>{n.d(s,{A:()=>t});const t=n.p+"assets/images/openai-api-b900ef04c3145330b93a206589eca56c.webp"},3702:(e,s,n)=>{n.d(s,{A:()=>t});const t=n.p+"assets/images/prompt-0bfc1d2a6a1a79958877bdbab6cb2c3a.webp"},8453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>c});var t=n(6540);const r={},i=t.createContext(r);function o(e){const s=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(i.Provider,{value:s},e.children)}}}]);